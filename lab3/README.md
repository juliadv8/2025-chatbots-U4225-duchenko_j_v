# Telegram Bot ‚Äî –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –º—É–∑–µ–µ–≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞

–ë–æ—Ç –Ω–∞ Python (python-telegram-bot v21+) —Å–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–º –º—É–∑–µ–µ–≤ –°–ü–±.  
–£–º–µ–µ—Ç: —Å–ø–∏—Å–æ–∫ –∏ –ø–æ–∏—Å–∫ –º—É–∑–µ–µ–≤, –∫–∞—Ä—Ç–æ—á–∫–∏, –º–∞—Ä—à—Ä—É—Ç –≤ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç–∞—Ö, –ø–æ–≥–æ–¥—É (Open-Meteo), –ø–ª–∞–Ω –≤–∏–∑–∏—Ç–∞, —Å–±–æ—Ä –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –∏ –ø—Ä–æ—Å—Ç—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (SQLite).

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- `/list` ‚Äî —Å–ø–∏—Å–æ–∫ –º—É–∑–µ–µ–≤  
- `/find <–∑–∞–ø—Ä–æ—Å>` ‚Äî —É–º–Ω—ã–π –ø–æ–∏—Å–∫ (–ø–æ–¥—Å—Ç—Ä–æ–∫–∞ + fuzzy)  
- `/museum <id|–Ω–∞–∑–≤–∞–Ω–∏–µ>` ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∞ –º—É–∑–µ—è (—á–∞—Å—ã, –∞–¥—Ä–µ—Å, –±–∏–ª–µ—Ç—ã, —Å–∞–π—Ç)  
- `/route <id|–Ω–∞–∑–≤–∞–Ω–∏–µ>` ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç –≤ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç–∞—Ö  
- `/plan <id|–Ω–∞–∑–≤–∞–Ω–∏–µ>` ‚Äî –ø–æ–≥–æ–¥–∞ (–°–ü–±) + –º–∞—Ä—à—Ä—É—Ç  
- `/weather [–≥–æ—Ä–æ–¥]` ‚Äî —Ç–µ–∫—É—â–∞—è –ø–æ–≥–æ–¥–∞  
- `/feedback` ‚Äî –∫–æ—Ä–æ—Ç–∫–∞—è —Ñ–æ—Ä–º–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `data/feedback.json`)  
- `/stats` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –Ω—É–∂–µ–Ω `ADMIN_ID`)  
- `/ping` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

–î–∞–Ω–Ω—ã–µ –º—É–∑–µ–µ–≤ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ `data/museums.json`.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
## –ö–∞–∫ –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç
- –ö–æ–º–∞–Ω–¥—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —á–∏—Ç–∞–µ–º—ã–µ —Ç–µ–∫—Å—Ç—ã —Å —ç–º–æ–¥–∑–∏ –∏ Markdown.
- –ù–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç –±–µ–∑ –∫–æ–º–∞–Ω–¥—ã ‚Äî –ø—ã—Ç–∞–µ—Ç—Å—è —É–≥–∞–¥–∞—Ç—å, –∫–∞–∫–æ–π –º—É–∑–µ–π –∏–º–µ–ª—Å—è –≤ –≤–∏–¥—É, –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã.
- –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –æ—Ç–≤–µ—á–∞–µ—Ç –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º –∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —à–ª—ë—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω—É.

## –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω–∏—Ç
–í —Ñ–∞–π–ª–µ `data/museums.json` —Ö—Ä–∞–Ω–∏—Ç—Å—è —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤:
```json
[
  {
    "id": "1",
    "name": "–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –≠—Ä–º–∏—Ç–∞–∂",
    "hours": "–í—Ç, –ß—Ç, –°–±, –í—Å 10:30‚Äì18:00; –°—Ä, –ü—Ç 10:30‚Äì21:00; –ü–Ω ‚Äî –≤—ã—Ö–æ–¥–Ω–æ–π",
    "address": "–î–≤–æ—Ä—Ü–æ–≤–∞—è –ø–ª., 2",
    "tickets": "–û—Ç 500 ‚ÇΩ (–ª—å–≥–æ—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã); –±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–ª—è –¥–µ—Ç–µ–π –¥–æ 18",
    "url": "https://www.hermitagemuseum.org/"
  }
]
```
–í—ã –º–æ–∂–µ—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª –≤—Ä—É—á–Ω—É—é (id –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞–º–∏ –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏). –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ñ–∞–π–ª–∞ –±–æ—Ç —Å–æ–∑–¥–∞—Å—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

> –•–æ—Ç–∏—Ç–µ SQLite? –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–º–µ–Ω–∏—Ç—å `MuseumStore` –Ω–∞ SQLite‚Äë–≤–∞—Ä–∏–∞–Ω—Ç ‚Äî —Ç–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JSON –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.10+
- –ê–∫–∫–∞—É–Ω—Ç Telegram BotFather —Ç–æ–∫–µ–Ω
- –ò–Ω—Ç–µ—Ä–Ω–µ—Ç‚Äë–¥–æ—Å—Ç—É–ø —Å –º–∞—à–∏–Ω—ã, –≥–¥–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–æ—Ç

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (VS Code –∏–ª–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª)
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π/–ø–∞–ø–∫—É –∫ —Å–µ–±–µ.
2. –°–æ–∑–¥–∞–π—Ç–µ `.env` –ø–æ –æ–±—Ä–∞–∑—Ü—É `.env.example` –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞:
   ```env
   TELEGRAM_BOT_TOKEN=123456:ABC...your_token_here
   # ADMIN_USER_ID=123456789  # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å –∞–ª–µ—Ä—Ç—ã
   ```
3. –°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
   - **Windows (PowerShell)**
     ```powershell
     py -3 -m venv .venv
     .\.venv\Scripts\Activate.ps1
     ```
   - **macOS / Linux (bash/zsh)**
     ```bash
     python3 -m venv .venv
     source .venv/bin/activate
     ```
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```
5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
   ```bash
   python bot.py
   ```

## –ó–∞–ø—É—Å–∫ –≤ Visual Studio (Windows)
> –†–µ—á—å –æ **Microsoft Visual Studio** (–Ω–µ VS Code). –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Ä–∞–±–æ—á–∏–π –Ω–∞–±–æ—Ä **Python development**.
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç —Ç–∏–ø–∞ *Python Application* –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –ø—Ä–æ–µ–∫—Ç —Ñ–∞–π–ª—ã `bot.py`, `requirements.txt`, `.env` –∏ –ø–∞–ø–∫—É `data`.
2. –û—Ç–∫—Ä–æ–π—Ç–µ **Solution Explorer ‚Üí –©—ë–ª–∫–Ω–∏—Ç–µ –ø—Ä–∞–≤–æ–π ‚Üí Python Environments ‚Üí Add Environment ‚Üí Virtual environment** –∏ —Å–æ–∑–¥–∞–π—Ç–µ venv.
3. –û—Ç–∫—Ä–æ–π—Ç–µ **Package Manager** –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ `requirements.txt` (–∏–ª–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø—Ä–æ–µ–∫—Ç–∞: `pip install -r requirements.txt`).
4. –í —Å–≤–æ–π—Å—Ç–≤–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ –æ–±—Ä–∞–∑—Ü—É.
5. –í—ã–±–µ—Ä–∏—Ç–µ `bot.py` —Å—Ç–∞—Ä—Ç–æ–≤—ã–º —Ñ–∞–π–ª–æ–º (**Set as Startup File**) –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ (F5).

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `TELEGRAM_BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `ADMIN_USER_ID` ‚Äî –≤–∞—à Telegram ID –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –í—Å–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è.
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –º—è–≥–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
- –ï—Å–ª–∏ –∑–∞–¥–∞–Ω `ADMIN_USER_ID`, –∞–¥–º–∏–Ω –ø–æ–ª—É—á–∞–µ—Ç –∫–æ—Ä–æ—Ç–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å —Ç–µ–∫—Å—Ç–æ–º –æ—à–∏–±–∫–∏.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
‚îú‚îÄ bot.py
‚îú‚îÄ requirements.txt
‚îú‚îÄ README.md
‚îú‚îÄ .env # –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –∫–æ–º–º–∏—Ç–∏–º)
‚îú‚îÄ docker-compose.yml # (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îú‚îÄ Dockerfile # (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îî‚îÄ data/
‚îú‚îÄ museums.json # —Å–ø–∏—Å–æ–∫ –º—É–∑–µ–µ–≤ (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω)
‚îú‚îÄ feedback.json # –æ—Ç–∑—ã–≤—ã (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îî‚îÄ bot.db # SQLite —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -U -r requirements.txt`
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å JSON: –ª—é–±–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä, –ª–∏–±–æ `python -m json.tool data/museums.json`

## FAQ
**Q:** –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è: `TELEGRAM_BOT_TOKEN is not set`  
**A:** –°–æ–∑–¥–∞–π—Ç–µ `.env` –ø–æ –æ–±—Ä–∞–∑—Ü—É `.env.example` –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω.

**Q:** –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –º—É–∑–µ–π?  
**A:** –û—Ç–∫—Ä–æ–π—Ç–µ `data/museums.json`, –¥–æ–±–∞–≤—å—Ç–µ –æ–±—ä–µ–∫—Ç —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º —Å—Ç—Ä–æ–∫–æ–≤—ã–º `id`. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞.

**Q:** –ú–æ–∂–Ω–æ –ª–∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ?  
**A:** –î–∞. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ systemd‚Äë—Å–µ—Ä–≤–∏—Å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker ‚Äî –∫–æ–¥ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –û–°.
