University: [ITMO University](https://itmo.ru/ru/)  
Faculty: [FTMI](https://ftmi.itmo.ru)  
Course:  [Vibe Coding: AI-боты для бизнеса](https://github.com/itmo-ict-faculty/vibe-coding-for-business)  
Year: 2025/2026   
Group: U4225  
Author: Duchenko Yulia Viktorovna  
Lab: Lab2  
Date of create: 27.10.2025  
Date of finished: __.10.2025 

## Отчет по практике - Лабораторная работа №2 "Подключение бота к данным"
Во время выполнения задания выполнены следующие шаги:
1. В лаб1 готовила бот-справочник по музеям СПб. Теперь можно его улучшить тем, 
что добавить прогноз погоды на сегодя через открытый api + ссылку на Яндекс.Карты, чтобы спланировать маршрут посещения музея.
2. Подготовила промт 

`````
Улучши моего Telegram-бота, добавив работу с публичным API с прогнозом погоды.

Текущий функционал бота:
Простой Telegram‑бот на Python (python‑telegram‑bot v21+) со справочником музеев СПб. Хранит данные в локальном JSON (data/museums.json), 
поддерживает поиск и выдаёт карточки музеев. 
Команды: 
- /start, 
- /help — краткая справка и список команд 
- /list — список всех музеев (id + название) 
- /find <запрос> — умный поиск по названию (fuzzy + подстрока) 
- /museum <id|название> — подробная карточка (название, график, адрес, билеты, сайт) 
- /random — случайный музей 
- /ping — проверка доступности 
Как бот отвечает: 
- Команды возвращают читаемые тексты с эмодзи и Markdown. 
- На произвольный текст без команды — пытается угадать, какой музей имелся в виду, и предлагает варианты. 
- При ошибках отвечает дружелюбным сообщением и (опционально) шлёт уведомление админу.

Новый функционал:
1. Нужно добавить интеграцию с публичным API прогноза погоды (Open-Meteo):
 Бот сможет по запросу пользователя показать текущую температуру и краткий прогноз погоды в Санкт-Петербурге (или другом городе по выбору).
 Команда: /weather <город>
 Пример ответа: В Санкт-Петербурге сейчас +8°C, переменная облачность.
2. Нужно добавить отображение карты и маршрута до музея:
 Для любого музея из справочника бот будет возвращать ссылку на карту с маршрутом (Яндекс.Карты).
 Команда: /route <id|название музея>
 Пример ответа: Маршрут до «Русского музея». Ссылка на маршрут
3. Нужно добавить комбинированная команда:
Пользователь может запросить сразу прогноз погоды и маршрут к музею, чтобы спланировать визит.
 Команда: /plan <название музея>
 Пример ответа: Сегодня +12 °C, солнечно. Маршрут до «Эрмитажа»: Открыть в Яндекс.Картах
- Бот продолжает использовать локальный файл data/museums.json, где хранятся: id, название, описание, адрес, время работы, цена билетов, сайт.
- При вызове /weather бот обращается к API Open-Meteo (https://open-meteo.com/) и получает JSON-ответ с температурой и погодным кодом.
- При вызове /route бот ищет нужный музей в JSON по названию или id, извлекает поле address и формирует URL-ссылку для карты.
- Все ответы форматируются в удобочитаемом виде с эмодзи и Markdown.
- Ошибки (не найден музей, ошибка сети, неверный ввод) обрабатываются с дружелюбным сообщением.


Данные:
1. Файл данных
data/museums.json (пример структуры):
[
  {
    "id": 1,
    "name": "Эрмитаж",
    "address": "Дворцовая площадь, 2, Санкт-Петербург",
    "hours": "10:30–18:00",
    "tickets": "500 руб.",
    "site": "https://hermitagemuseum.org"
  },
  {
    "id": 2,
    "name": "Русский музей",
    "address": "Инженерная ул., 4/2, Санкт-Петербург",
    "hours": "10:00–18:00",
    "tickets": "400 руб.",
    "site": "https://rusmuseum.ru"
  }
]

2. Публичное API погоды - Open-Meteo API
Документация: https://open-meteo.com/en/docs
Пример запроса: https://api.open-meteo.com/v1/forecast?latitude=59.93&longitude=30.33&current=temperature_2m,weather_code&timezone=Europe/Moscow
Пример ответа:
{
  "latitude": 59.93,
  "longitude": 30.33,
  "current": {
    "temperature_2m": 8.3,
    "weather_code": 3
  }
}

3. Карты - Используется Яндекс.Карты для построения маршрута: https://yandex.ru/maps/?rtext=~<адрес музея>

Требования:
- Код должен быть простым и понятным
- Добавить обработку ошибок
- Хорошие комментарии в коде
- Сохранить существующий функционал

Создай:

1. Обновленный bot.py
2. Файл с данными (если нужно)
3. Обновленный README.md

`````

3. Обновила файлы и запустила бот.
![](https://github.com/juliadv8/2025-chatbots-U4225-duchenko_j_v/blob/main/lab2/img/lab2_screen1.png)
![](https://github.com/juliadv8/2025-chatbots-U4225-duchenko_j_v/blob/main/lab2/img/lab2_screen2.png)
![](https://github.com/juliadv8/2025-chatbots-U4225-duchenko_j_v/blob/main/lab2/img/lab2_screen3.png)

В результате отображается погода + карта с маршрутом до адреса.
![](https://github.com/juliadv8/2025-chatbots-U4225-duchenko_j_v/blob/main/lab2/img/lab2_screen4.png)

------
[Ссылка на бот](https://t.me/itmoftmi_dyv_bot)  
[Cсылка на видео](https://drive.google.com/file/d/1yloLzmMRXmbeHnBw5mTmhPBpBoUS_Uks/view?usp=drive_link)
